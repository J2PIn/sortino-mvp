<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sortino — Submit Results</title>
  <meta name="description" content="Submit anonymized agency performance results to Sortino. Optional redacted evidence upload via Cloudflare R2." />

  <meta property="og:title" content="Sortino — Submit Results" />
  <meta property="og:description" content="Submit anonymized results. Optional redacted evidence. Verification increases confidence, not rank position." />
  <meta property="og:url" content="https://sortinoapp.com/submit.html" />
  <meta property="og:image" content="https://sortinoapp.com/assets/og.png" />
  <meta name="twitter:card" content="summary_large_image" />

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ['Inter', 'ui-sans-serif', 'system-ui'] },
          boxShadow: { soft: "0 10px 30px rgba(15, 23, 42, 0.08)" }
        }
      }
    }
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">

  <!-- Turnstile (recommended anti-spam) -->
  <!-- Replace YOUR_TURNSTILE_SITE_KEY with your Turnstile site key -->
  <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
</head>

<body class="font-sans text-slate-900">
  <!-- premium light background -->
  <div class="fixed inset-0 -z-10">
    <div class="absolute inset-0 bg-[#fbfcff]"></div>
    <div class="absolute -top-32 left-1/2 h-[28rem] w-[52rem] -translate-x-1/2 rounded-full bg-cyan-200/40 blur-3xl"></div>
    <div class="absolute top-40 left-1/4 h-[26rem] w-[40rem] rounded-full bg-indigo-200/35 blur-3xl"></div>
    <div class="absolute top-[30rem] right-0 h-[26rem] w-[40rem] rounded-full bg-amber-200/25 blur-3xl"></div>
  </div>

  <main class="max-w-6xl mx-auto px-6 py-10">
    <!-- Nav -->
    <header class="flex items-center justify-between gap-4">
      <a href="/" class="flex items-center gap-3">
        <div class="h-10 w-10 rounded-2xl bg-white shadow-soft ring-1 ring-slate-200 flex items-center justify-center">
          <span class="font-bold text-slate-900">S</span>
        </div>
        <div>
          <div class="font-semibold leading-tight">Sortino</div>
          <div class="text-sm text-slate-600 -mt-0.5">Agency Performance Index</div>
        </div>
      </a>

      <nav class="hidden sm:flex items-center gap-5 text-sm text-slate-700">
        <a class="hover:text-slate-900" href="/directory.html">Directory</a>
        <a class="hover:text-slate-900" href="/signals.html">Signals</a>
        <a class="hover:text-slate-900" href="/methodology.html">Methodology</a>
        <a class="hover:text-slate-900 font-medium" href="/submit.html">Submit</a>
        <a class="hover:text-slate-900" href="/#pricing">Join</a>
      </nav>

      <a href="/#pricing"
         class="inline-flex items-center gap-2 rounded-xl bg-slate-900 text-white px-4 py-2 text-sm font-semibold hover:bg-slate-800">
        Get verified
      </a>
    </header>

    <!-- Header -->
    <section class="mt-10">
      <div class="inline-flex items-center gap-2 rounded-full bg-white/70 backdrop-blur px-3 py-1 text-xs text-slate-700 ring-1 ring-slate-200 shadow-soft">
        <span class="h-2 w-2 rounded-full bg-emerald-500"></span>
        Secure submission • MVP
      </div>

      <h1 class="mt-5 text-4xl font-semibold tracking-tight">Submit anonymized results</h1>
      <p class="mt-4 text-lg text-slate-700 leading-relaxed max-w-3xl">
        Sortino accepts structured, anonymized performance submissions. Evidence is optional and must be <span class="font-medium text-slate-900">redacted</span>.
        Verification increases confidence, not rank position.
      </p>
    </section>

    <section class="mt-10 grid lg:grid-cols-3 gap-6 items-start">
      <!-- Left: trust + rules -->
      <aside class="lg:sticky lg:top-10 space-y-4">
        <div class="rounded-3xl bg-white/80 backdrop-blur ring-1 ring-slate-200 shadow-soft p-6">
          <div class="text-sm font-semibold">Anonymity rules</div>
          <ul class="mt-3 space-y-2 text-sm text-slate-700">
            <li>• Do not include client names, domains, brand names, or screenshots showing them.</li>
            <li>• Use an industry theme (e.g., “DTC skincare”, “B2B SaaS”).</li>
            <li>• Use ranges if needed (e.g., “€20–50k/mo”).</li>
            <li>• Evidence must be redacted (account IDs, client names, URLs).</li>
          </ul>
        </div>

        <div class="rounded-3xl bg-white/80 backdrop-blur ring-1 ring-slate-200 shadow-soft p-6">
          <div class="text-sm font-semibold">What happens after submission</div>
          <p class="mt-2 text-sm text-slate-700">
            We generate a submission ID. If you include a contact email, we may follow up for clarifications.
            Verified submissions improve confidence scoring.
          </p>
          <p class="mt-3 text-xs text-slate-500">
            For privacy details see <a class="underline font-medium" href="/privacy.html">Privacy Policy</a>.
          </p>
        </div>

        <div class="rounded-3xl bg-white/80 backdrop-blur ring-1 ring-slate-200 shadow-soft p-6">
          <div class="text-sm font-semibold">Need maximum discretion?</div>
          <p class="mt-2 text-sm text-slate-700">
            Join the Verified Results Program for priority review and evidence handling.
          </p>
          <a href="/#pricing"
             class="mt-4 inline-flex w-full justify-center rounded-xl bg-slate-900 text-white px-4 py-3 font-semibold hover:bg-slate-800">
            Get verified
          </a>
        </div>
      </aside>

      <!-- Right: form -->
      <div class="lg:col-span-2">
        <div class="rounded-3xl bg-white/80 backdrop-blur ring-1 ring-slate-200 shadow-soft p-6">
          <div class="flex items-start justify-between gap-4">
            <div>
              <div class="text-sm font-semibold">Submission form</div>
              <div class="mt-1 text-sm text-slate-600">Fields marked * are required. No client identifiers.</div>
            </div>
            <div class="text-xs text-slate-600 bg-white ring-1 ring-slate-200 px-2 py-1 rounded-lg">
              Endpoint: /api/submit
            </div>
          </div>

          <form id="submitForm" class="mt-6 space-y-5">
            <!-- Agency identity (public) -->
            <div class="grid md:grid-cols-2 gap-4">
              <div>
                <label class="text-xs font-semibold text-slate-700">Agency name *</label>
                <input name="agency_name" required
                  class="mt-1 w-full rounded-2xl bg-white ring-1 ring-slate-200 px-4 py-3 text-sm outline-none focus:ring-slate-300"
                  placeholder="e.g., Sortino Performance Studio" />
              </div>
              <div>
                <label class="text-xs font-semibold text-slate-700">Agency website *</label>
                <input name="agency_website" required type="url"
                  class="mt-1 w-full rounded-2xl bg-white ring-1 ring-slate-200 px-4 py-3 text-sm outline-none focus:ring-slate-300"
                  placeholder="https://…" />
              </div>
            </div>

            <div class="grid md:grid-cols-2 gap-4">
              <div>
                <label class="text-xs font-semibold text-slate-700">Location (city, country)</label>
                <input name="agency_location"
                  class="mt-1 w-full rounded-2xl bg-white ring-1 ring-slate-200 px-4 py-3 text-sm outline-none focus:ring-slate-300"
                  placeholder="e.g., Helsinki, FI" />
              </div>
              <div>
                <label class="text-xs font-semibold text-slate-700">Primary service *</label>
                <select name="primary_service" required
                  class="mt-1 w-full rounded-2xl bg-white ring-1 ring-slate-200 px-4 py-3 text-sm outline-none focus:ring-slate-300">
                  <option value="">Select…</option>
                  <option>Paid Social</option>
                  <option>Google Ads</option>
                  <option>SEO</option>
                  <option>Content</option>
                  <option>CRO</option>
                  <option>Email / CRM</option>
                  <option>Creative</option>
                  <option>Analytics</option>
                  <option>Other</option>
                </select>
              </div>
            </div>

            <!-- Result claim -->
            <div class="rounded-2xl bg-white ring-1 ring-slate-200 p-4">
              <div class="text-sm font-semibold">Anonymized case study *</div>
              <p class="mt-1 text-sm text-slate-600">
                Use a theme like “DTC skincare” or “B2B SaaS”. Do not include client names, domains, or identifiable screenshots.
              </p>

              <div class="mt-4 grid md:grid-cols-2 gap-4">
                <div>
                  <label class="text-xs font-semibold text-slate-700">Industry theme *</label>
                  <input name="industry_theme" required
                    class="mt-1 w-full rounded-2xl bg-white ring-1 ring-slate-200 px-4 py-3 text-sm outline-none focus:ring-slate-300"
                    placeholder="e.g., DTC skincare" />
                </div>
                <div>
                  <label class="text-xs font-semibold text-slate-700">Channel *</label>
                  <input name="channel" required
                    class="mt-1 w-full rounded-2xl bg-white ring-1 ring-slate-200 px-4 py-3 text-sm outline-none focus:ring-slate-300"
                    placeholder="e.g., Meta Ads + Landing page CRO" />
                </div>
              </div>

              <div class="mt-4 grid md:grid-cols-3 gap-4">
                <div>
                  <label class="text-xs font-semibold text-slate-700">Timeframe *</label>
                  <input name="timeframe" required
                    class="mt-1 w-full rounded-2xl bg-white ring-1 ring-slate-200 px-4 py-3 text-sm outline-none focus:ring-slate-300"
                    placeholder="e.g., 90 days" />
                </div>
                <div>
                  <label class="text-xs font-semibold text-slate-700">Budget band (optional)</label>
                  <input name="budget_band"
                    class="mt-1 w-full rounded-2xl bg-white ring-1 ring-slate-200 px-4 py-3 text-sm outline-none focus:ring-slate-300"
                    placeholder="e.g., €20–50k / mo" />
                </div>
                <div>
                  <label class="text-xs font-semibold text-slate-700">Region (optional)</label>
                  <input name="region"
                    class="mt-1 w-full rounded-2xl bg-white ring-1 ring-slate-200 px-4 py-3 text-sm outline-none focus:ring-slate-300"
                    placeholder="e.g., Nordics / EU / US" />
                </div>
              </div>

              <div class="mt-4 grid md:grid-cols-2 gap-4">
                <div>
                  <label class="text-xs font-semibold text-slate-700">Baseline *</label>
                  <textarea name="baseline" required rows="3"
                    class="mt-1 w-full rounded-2xl bg-white ring-1 ring-slate-200 px-4 py-3 text-sm outline-none focus:ring-slate-300"
                    placeholder="e.g., ROAS 1.4, CAC €68, CVR 1.2%"></textarea>
                </div>
                <div>
                  <label class="text-xs font-semibold text-slate-700">Outcome *</label>
                  <textarea name="outcome" required rows="3"
                    class="mt-1 w-full rounded-2xl bg-white ring-1 ring-slate-200 px-4 py-3 text-sm outline-none focus:ring-slate-300"
                    placeholder="e.g., ROAS 2.8, CAC €42, CVR 2.1%"></textarea>
                </div>
              </div>

              <div class="mt-4">
                <label class="text-xs font-semibold text-slate-700">Notes (optional)</label>
                <textarea name="notes" rows="3"
                  class="mt-1 w-full rounded-2xl bg-white ring-1 ring-slate-200 px-4 py-3 text-sm outline-none focus:ring-slate-300"
                  placeholder="Constraints, creative angle, funnel changes, tracking model, etc."></textarea>
              </div>
            </div>

            <!-- Evidence -->
            <div class="rounded-2xl bg-white ring-1 ring-slate-200 p-4">
              <div class="flex items-start justify-between gap-4">
                <div>
                  <div class="text-sm font-semibold">Optional evidence upload (redacted)</div>
                  <p class="mt-1 text-sm text-slate-600">
                    Upload a redacted export/screenshot (PDF/PNG/JPG). Do not include client names, domains, account IDs, or URLs.
                  </p>
                </div>
                <span class="text-xs bg-amber-50 text-amber-900 ring-1 ring-amber-200 px-2 py-1 rounded-full">
                  Optional
                </span>
              </div>

              <div class="mt-4 grid md:grid-cols-2 gap-4">
                <div>
                  <label class="text-xs font-semibold text-slate-700">Evidence file</label>
                  <input id="evidence" name="evidence" type="file" accept=".pdf,.png,.jpg,.jpeg"
                    class="mt-1 block w-full text-sm text-slate-700 file:mr-4 file:rounded-xl file:border-0 file:bg-slate-900 file:px-4 file:py-2 file:text-sm file:font-semibold file:text-white hover:file:bg-slate-800" />
                  <div class="mt-2 text-xs text-slate-500">Tip: export from platform and blur/black out identifiers.</div>
                </div>

                <div class="flex items-start gap-3 rounded-2xl bg-amber-50 ring-1 ring-amber-200 p-4">
                  <input id="redacted" type="checkbox" class="mt-1" />
                  <label for="redacted" class="text-sm text-amber-900">
                    I confirm the evidence file is <span class="font-semibold">redacted</span> and contains no client identifiers.
                  </label>
                </div>
              </div>
            </div>

            <!-- Contact -->
            <div class="grid md:grid-cols-2 gap-4">
              <div>
                <label class="text-xs font-semibold text-slate-700">Contact email (optional)</label>
                <input name="contact_email" type="email"
                  class="mt-1 w-full rounded-2xl bg-white ring-1 ring-slate-200 px-4 py-3 text-sm outline-none focus:ring-slate-300"
                  placeholder="email@agency.com (only used for clarifications)" />
              </div>
              <div>
                <label class="text-xs font-semibold text-slate-700">Verification program</label>
                <select name="verification_intent"
                  class="mt-1 w-full rounded-2xl bg-white ring-1 ring-slate-200 px-4 py-3 text-sm outline-none focus:ring-slate-300">
                  <option value="not_sure">Not sure yet</option>
                  <option value="interested">Interested in verification</option>
                  <option value="already_joined">Already joined (Stripe)</option>
                </select>
              </div>
            </div>

            <!-- Turnstile widget -->
            <div class="rounded-2xl bg-white ring-1 ring-slate-200 p-4">
              <div class="text-xs font-semibold text-slate-700">Spam protection</div>
              <div class="mt-3">
                <div class="cf-turnstile" data-sitekey="YOUR_TURNSTILE_SITE_KEY"></div>
              </div>
              <div class="mt-2 text-xs text-slate-500">
                This helps protect the submission endpoint from abuse.
              </div>
            </div>

            <!-- Submit -->
            <div class="flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between">
              <div class="text-xs text-slate-500">
                By submitting, you agree that your submission is anonymized and you have rights to share the included data.
              </div>

              <button id="submitBtn" type="submit"
                class="rounded-xl bg-slate-900 text-white px-5 py-3 font-semibold hover:bg-slate-800">
                Submit securely
              </button>
            </div>

            <div id="status" class="hidden rounded-2xl bg-slate-50 ring-1 ring-slate-200 p-4 text-sm text-slate-700"></div>
          </form>
        </div>
      </div>
    </section>

    <footer class="mt-16 pt-10 border-t border-slate-200 text-sm text-slate-600">
      <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3">
        <div>© <span id="y"></span> Sortino</div>
        <div class="flex gap-4">
          <a class="hover:text-slate-900" href="/privacy.html">Privacy</a>
          <a class="hover:text-slate-900" href="#" onclick="window.SortinoCookie?.open(); return false;">Cookie settings</a>
          <a class="hover:text-slate-900" href="mailto:hello@sortinoapp.com">Contact</a>
        </div>
      </div>
    </footer>
  </main>

  <script>
    document.getElementById("y").textContent = new Date().getFullYear();

    const form = document.getElementById("submitForm");
    const btn = document.getElementById("submitBtn");
    const statusBox = document.getElementById("status");
    const evidenceInput = document.getElementById("evidence");
    const redactedCb = document.getElementById("redacted");

    function showStatus(msg, kind = "info") {
      statusBox.classList.remove("hidden");
      statusBox.textContent = msg;
      statusBox.className = "rounded-2xl ring-1 p-4 text-sm " + (
        kind === "ok" ? "bg-emerald-50 ring-emerald-200 text-emerald-900" :
        kind === "err" ? "bg-rose-50 ring-rose-200 text-rose-900" :
        "bg-slate-50 ring-slate-200 text-slate-700"
      );
    }

    form.addEventListener("submit", async (e) => {
      e.preventDefault();

      const file = evidenceInput.files && evidenceInput.files[0] ? evidenceInput.files[0] : null;
      if (file && !redactedCb.checked) {
        showStatus("Please confirm the evidence file is redacted (checkbox).", "err");
        return;
      }

      btn.disabled = true;
      btn.textContent = "Submitting…";

      try {
        const fd = new FormData(form);

        // Basic client-side guardrails
        fd.set("client_identifiers_confirmed", "true");
        fd.set("submitted_from", window.location.href);

        // POST to Worker endpoint
        const res = await fetch("/api/submit", {
          method: "POST",
          body: fd
        });

        const text = await res.text();
        let data = null;
        try { data = JSON.parse(text); } catch { /* keep text */ }

        if (!res.ok) {
          const msg = (data && data.error) ? data.error : (text || "Submission failed.");
          throw new Error(msg);
        }

        const id = data && data.submission_id ? data.submission_id : "—";
        showStatus(
          `Submitted successfully. Submission ID: ${id}. If you included an email, we may follow up for clarifications.`,
          "ok"
        );

        form.reset();
        btn.textContent = "Submit securely";
      } catch (err) {
        showStatus(err.message || "Submission failed. Please try again.", "err");
        btn.textContent = "Submit securely";
      } finally {
        btn.disabled = false;
      }
    });
  </script>

  <!-- Paste your cookie banner snippet here as well (same one used on other pages) -->
</body>
</html>
